# Authentication

Bauxy's API supports three authentication methods: basic, token, and session. Currently, session
authentication is preferred.

## Session Authentication

Session authentication is handled by means of a pseudo-random `sessionid` cookie. Once a given
`sessionid` has been authenticated, standard cookie-handling mechanisms ensure that the
authentication is tracked across requests.

### Getting an authenticated `sessionid`

There are two ways to get an authenticated session.

 - One is created upon successfully creating a patient using `POST /api/v1.5/patients/`.
 - If you possess a valid token generated by the `forgot_password/` endpoint, passing it in as
   `GET /api/v1.5/email_auth/?token=blahblah` will set the cookie.

In either case, the response will include the `Set-Cookie` header establishing a valid
authenticated `sessionid`.

## Token Authentication

```
Authorization: Token 9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b
```

If you possess a valid authentication token, simply include it in the `Authorization` header.

## Basic Authentication

Clients should generally avoid using HTTP Basic authentication, but it is supported. In principle
a client using HTTP Basic authentication should request that the user input their password at
startup, to avoid ever needing to cache it in non-volatile memory.

<aside class="warning">
Note that as of API version 1.5 there is no way to set or reset a user password, so without direct
assistance from Bauxy staff to set a password, Basic authentication is impossible.
</aside>
